(function(t){function e(e){for(var n,r,s=e[0],l=e[1],c=e[2],f=0,d=[];f<s.length;f++)r=s[f],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},i={app:0},a=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"3afe":function(t,e,o){},"3d1a":function(t,e,o){"use strict";o("a74f")},"4c50":function(t,e,o){"use strict";o("3afe")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[o("el-container",[o("router-view"),o("FooterNav")],1)],1)},a=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-footer",[o("router-link",{attrs:{to:"/money"}},[t._v("记账")]),o("router-link",{attrs:{to:"/calendar"}},[t._v("明细")]),o("router-link",{attrs:{to:"/reports"}},[t._v("报告")])],1)},s=[],l={},c=l,u=(o("4c50"),o("2877")),f=Object(u["a"])(c,r,s,!1,null,null,null),d=f.exports,m={components:{FooterNav:d}},p=m,h=(o("034f"),Object(u["a"])(p,i,a,!1,null,null,null)),g=h.exports,b=(o("6dca"),o("450d"),o("2cf9")),y=o.n(b),v=(o("b5d8"),o("f494")),w=o.n(v),L=(o("1951"),o("eedf")),_=o.n(L),S=(o("826b"),o("c263")),x=o.n(S),k=(o("10cb"),o("f3ad")),O=o.n(k),$=(o("eca7"),o("3787")),P=o.n($),T=(o("425f"),o("4105")),C=o.n(T),N=(o("3c52"),o("0d7b")),I=o.n(N),j=(o("fe07"),o("6ac5")),E=o.n(j),M=(o("bdc7"),o("aa2f")),J=o.n(M),V=(o("de31"),o("c69e")),H=o.n(V),F=(o("a673"),o("7b31")),q=o.n(F),z=(o("adec"),o("3d2d")),D=o.n(z),B=(o("9e1f"),o("6ed5")),R=o.n(B),Y=(o("0fb7"),o("f529")),X=o.n(Y);n["default"].prototype.$message=X.a,n["default"].prototype.$confirm=R.a.confirm,n["default"].use(D.a),n["default"].use(q.a),n["default"].use(H.a),n["default"].use(J.a),n["default"].use(E.a),n["default"].use(I.a),n["default"].use(C.a),n["default"].use(P.a),n["default"].use(O.a),n["default"].use(x.a),n["default"].use(_.a),n["default"].use(w.a),n["default"].use(y.a);var A=o("8c4f"),G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("HeaderTop",[o("el-radio-group",{attrs:{slot:"tab"},slot:"tab",model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},[o("el-radio-button",{attrs:{label:"out"}},[t._v("支出")]),o("el-radio-button",{attrs:{label:"in"}},[t._v("收入")])],1)],1),o("el-main",[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"left","label-width":"56px"}},[o("el-form-item",{attrs:{label:"日期",prop:"date"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),o("el-form-item",{attrs:{label:"记录",prop:"record"}},[o("el-input",{model:{value:t.form.record,callback:function(e){t.$set(t.form,"record",e)},expression:"form.record"}})],1),"out"==t.tabPosition?o("el-form-item",{attrs:{label:"支出",prop:"money"}},[o("el-input",{on:{focus:t.isReset},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1):o("el-form-item",{attrs:{label:"收入",prop:"money"}},[o("el-input",{on:{focus:t.isReset},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}})],1),o("el-form-item",{attrs:{label:"分类",prop:"expenditure"}}),o("el-radio-group",{attrs:{size:"medium"},model:{value:t.form.expenditure,callback:function(e){t.$set(t.form,"expenditure",e)},expression:"form.expenditure"}},[t._l(t.showTagList,(function(e){return o("el-radio",{key:e.id,attrs:{border:"",label:e.title},on:{change:function(o){return t.setIcon(e.icon)}}},[o("i",{class:e.icon}),t._v(t._s(e.title)+" ")])})),o("el-button",{on:{click:function(e){return t.$router.push("/money/edit")}}},[t._v("编辑 > ")])],2),o("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("确定")])],1)],1)],1)},K=[],Q=(o("4de4"),o("4d90"),o("d3b7"),o("25f0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-header",[t._t("tab"),t._t("title")],2)}),U=[],W={},Z=W,tt=Object(u["a"])(Z,Q,U,!1,null,null,null),et=tt.exports,ot={data:function(){return{tabPosition:"out",form:{date:"",record:"",money:0,expenditure:"",icon:""},rules:{money:[{required:!0,message:"请输入金额",trigger:"blur"}],date:[{required:!0,message:"请选择日期",trigger:"blur"}],expenditure:[{required:!0,message:"请选择分类"}]},tagList:[],recordList:[]}},mounted:function(){this.recordList=JSON.parse(localStorage.getItem("recordList"))||[],this.tagList=JSON.parse(localStorage.getItem("tagList"))||[],this.getNowTime()},computed:{showTagList:function(){var t=this;return this.tagList.filter((function(e){return e.type===t.tabPosition}))}},methods:{isReset:function(){0==this.form.money&&(this.form.money="")},onSubmit:function(t){var e=this;this.$refs[t].validate((function(o){if(!o)return console.log("error submit!!"),!1;var n=Object.assign({},e.form);n.type=e.tabPosition,e.recordList.push(n),e.$refs[t].resetFields(),e.$message({message:"添加成功",type:"success",duration:1e3})}))},getNowTime:function(){var t=new Date,e=t.getFullYear(),o=t.getMonth(),n=t.getDate();o+=1,o=o.toString().padStart(2,"0"),n=n.toString().padStart(2,"0"),this.form.date=e+"-"+o+"-"+n},setIcon:function(t){this.form.icon=t}},components:{HeaderTop:et},watch:{recordList:function(t){t.length&&localStorage.setItem("recordList",JSON.stringify(this.recordList))}}},nt=ot,it=(o("cb0a"),Object(u["a"])(nt,G,K,!1,null,null,null)),at=it.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"calendar"},[o("HeaderTop",[o("template",{slot:"title"},[t._v(" 明细 ")])],2),o("el-main",[o("el-date-picker",{attrs:{"value-format":"yyyy-MM",type:"month",placeholder:"选择月"},model:{value:t.monthValue,callback:function(e){t.monthValue=e},expression:"monthValue"}}),t.showList.length>0?o("ul",{staticClass:"ca-list"},t._l(t.showList,(function(e,n){return o("li",{key:n},[o("h3",{staticClass:"title"},[o("span",[t._v(t._s(e.date))]),o("span",{staticClass:"money",class:{on:t.computeMoney(e)>=0}},[t._v(t._s(t.computeMoney(e)>=0?"+":"")+t._s(t.computeMoney(e)))])]),o("ul",t._l(e.data,(function(e,n){return o("li",{key:n},[o("span",[o("i",{class:e.icon}),t._v(t._s(e.expenditure)),o("span",{staticClass:"record"},[t._v("("+t._s(e.record)+")")])]),o("span",{staticClass:"money"},[t._v(t._s("in"===e.type?"+":"-")+t._s(e.money))])])})),0)])})),0):o("el-empty",{attrs:{"image-size":200}})],1)],1)},st=[],lt=(o("159b"),{data:function(){return{monthValue:"",recordList:[],newList:[],showList:[]}},mounted:function(){this.recordList=JSON.parse(localStorage.getItem("recordList"))||[],this.getNewList(),this.getNowTime()},methods:{getNewList:function(){var t=[],e=[];this.recordList.forEach((function(o){-1==t.indexOf(o.date)?e.push({date:o.date,data:[o]}):e[t.indexOf(o.date)].data.push(o),t.push(o.date)})),this.newList=e},getNowTime:function(){var t=new Date,e=t.getFullYear(),o=t.getMonth();o+=1,o=o.toString().padStart(2,"0"),this.monthValue=e+"-"+o},getShowList:function(t){var e=this.newList.filter((function(e){return-1!=e.date.indexOf(t)}));this.showList=e}},computed:{computeMoney:function(){return function(t){var e=0;return t.data.forEach((function(t){"in"===t.type?e+=t.money>>>0:e-=t.money>>>0})),e}}},watch:{monthValue:function(t){t?this.getShowList(t):this.getShowList("")}},components:{HeaderTop:et}}),ct=lt,ut=(o("e3a5"),Object(u["a"])(ct,rt,st,!1,null,null,null)),ft=ut.exports,dt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("HeaderTop",[o("el-radio-group",{attrs:{slot:"tab"},slot:"tab",model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},[o("el-radio-button",{attrs:{label:"out"}},[t._v("支出")]),o("el-radio-button",{attrs:{label:"in"}},[t._v("收入")])],1)],1),o("el-main",[o("el-date-picker",{attrs:{"value-format":"yyyy-MM",type:"month",placeholder:"选择月"},model:{value:t.monthValue,callback:function(e){t.monthValue=e},expression:"monthValue"}}),o("div",{staticClass:"button-wrapper"},[o("el-button",{attrs:{type:"danger",round:""},on:{click:function(e){t.tabPosition="out"}}},[t._v("-"+t._s(t.outCount))]),o("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){t.tabPosition="in"}}},[t._v("+"+t._s(t.inCount))])],1),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showList.length>0,expression:"showList.length > 0"}],ref:"echarts",staticStyle:{width:"100%",height:"400px"}}),0==t.showList.length?o("el-empty",{attrs:{"image-size":200}}):t._e()],1)],1)},mt=[],pt=o("313e"),ht={data:function(){return{tabPosition:"out",monthValue:"",recordList:[],showList:[]}},mounted:function(){this.recordList=JSON.parse(localStorage.getItem("recordList"))||[],this.getNowTime(),this.showEcharts("out")},methods:{showEcharts:function(t){var e=this,o=[];0!=this.recordList.length&&0!=this.showList.length&&this.$nextTick((function(){e.showList.forEach((function(e){e.type===t&&o.push({value:e.money,name:e.expenditure})})),e.myChart&&e.myChart.dispose(),e.myChart=pt["a"](e.$refs.echarts),e.myChart.setOption({title:{text:"账单明细",subtext:"纯属虚构",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"访问来源",type:"pie",radius:"50%",data:o,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}))},getNowTime:function(){var t=new Date,e=t.getFullYear(),o=t.getMonth();o+=1,o=o.toString().padStart(2,"0"),this.monthValue=e+"-"+o},getShowList:function(t){var e=this.recordList.filter((function(e){return-1!=e.date.indexOf(t)}));this.showList=e}},computed:{inCount:function(){var t=0;return this.showList.forEach((function(e){"in"===e.type&&(t+=e.money>>>0)})),t},outCount:function(){var t=0;return this.showList.forEach((function(e){"out"===e.type&&(t+=e.money>>>0)})),t}},watch:{tabPosition:function(t){this.showEcharts(t)},monthValue:function(t){t?(this.getShowList(t),this.showEcharts(this.tabPosition)):(this.getShowList(""),this.showEcharts(this.tabPosition))}},components:{HeaderTop:et}},gt=ht,bt=(o("ef9e"),Object(u["a"])(gt,dt,mt,!1,null,null,null)),yt=bt.exports,vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("HeaderTop",[o("el-radio-group",{attrs:{slot:"tab"},slot:"tab",model:{value:t.tabPosition,callback:function(e){t.tabPosition=e},expression:"tabPosition"}},[o("el-radio-button",{attrs:{label:"out"}},[t._v("支出")]),o("el-radio-button",{attrs:{label:"in"}},[t._v("收入")])],1)],1),o("el-main",[o("ul",{staticClass:"cate-list"},[o("li",{on:{click:function(e){return t.$router.push("/money/edit/add/"+t.tabPosition)}}},[o("span",[o("span",{staticClass:"name"},[t._v("添加新的标签")])]),o("i",{staticClass:"el-icon-arrow-right"})]),t._l(t.showTagList,(function(e){return o("li",{key:e.id},[o("span",[o("i",{class:e.icon}),o("span",{staticClass:"name"},[t._v(t._s(e.title))])]),o("i",{staticClass:"el-icon-delete",on:{click:function(o){return t.deleteTag(e.id)}}})])}))],2)])],1)},wt=[],Lt=(o("a434"),o("c740"),{data:function(){return{tabPosition:"out",tagList:[]}},mounted:function(){var t=JSON.parse(localStorage.getItem("tagList"))||[];0==t.length?(localStorage.setItem("tagList",JSON.stringify([{id:1,title:"饮食",type:"out",icon:"el-icon-fork-spoon"},{id:2,title:"日用",type:"out",icon:"el-icon-refrigerator"},{id:3,title:"衣服",type:"out",icon:"el-icon-shopping-bag-1"},{id:4,title:"美容",type:"out",icon:"el-icon-magic-stick"},{id:5,title:"工资",type:"in",icon:"el-icon-bank-card"},{id:6,title:"零花钱",type:"in",icon:"el-icon-wallet"}])),this.tagList=JSON.parse(localStorage.getItem("tagList"))):this.tagList=JSON.parse(localStorage.getItem("tagList"))},computed:{showTagList:function(){var t=this;return this.tagList.filter((function(e){return e.type===t.tabPosition}))}},methods:{deleteTag:function(t){var e=this;this.$confirm("确认删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.tagList.splice(e.tagList.findIndex((function(e){return e.id==t})),1),localStorage.setItem("tagList",JSON.stringify(e.tagList)),e.$message({type:"success",message:"删除成功!",duration:1e3})})).catch((function(){e.$message({type:"info",message:"已取消删除",duration:1e3})}))}},components:{HeaderTop:et}}),_t=Lt,St=(o("3d1a"),Object(u["a"])(_t,vt,wt,!1,null,null,null)),xt=St.exports,kt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"add-cate"},[o("HeaderTop",[o("template",{slot:"title"},[t._v(" "+t._s("out"===t.$route.params.type?"支出":"收入")+"新标签 ")])],2),o("el-main",[o("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"left","label-width":"56px"}},[o("el-form-item",{attrs:{label:"名字",prop:"name"}},[o("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"分类",prop:"selectedIcon"}}),o("el-radio-group",{attrs:{size:"medium"},model:{value:t.form.selectedIcon,callback:function(e){t.$set(t.form,"selectedIcon",e)},expression:"form.selectedIcon"}},t._l(t.tags,(function(t){return o("el-radio",{key:t.id,attrs:{border:"",label:t.icon}},[o("i",{class:t.icon})])})),1),o("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("确定")])],1)],1)],1)},Ot=[],$t=(o("b0c0"),o("e1bd")),Pt={data:function(){return{form:{name:"",selectedIcon:""},rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"}],selectedIcon:[{required:!0,message:"请选一个图标",trigger:"blur"}]},tags:[{id:1,title:"饮食",icon:"el-icon-fork-spoon"},{id:2,title:"日用",icon:"el-icon-refrigerator"},{id:3,title:"衣服",icon:"el-icon-shopping-bag-1"},{id:4,title:"美容",icon:"el-icon-magic-stick"},{id:5,title:"工资",icon:"el-icon-bank-card"},{id:6,title:"零花钱",icon:"el-icon-wallet"},{id:7,title:"话费",icon:"el-icon-phone"},{id:8,title:"房租",icon:"el-icon-s-home"},{id:9,title:"交通",icon:"el-icon-bicycle"}],tagList:[]}},mounted:function(){this.tagList=JSON.parse(localStorage.getItem("tagList"))||[]},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate((function(o){if(!o)return console.log("error submit!!"),!1;var n={id:Object($t["a"])(),title:e.form.name,type:e.$route.params.type,icon:e.form.selectedIcon};e.tagList.push(n),localStorage.setItem("tagList",JSON.stringify(e.tagList)),e.$message({message:"添加成功",type:"success",duration:1e3}),e.$refs[t].resetFields(),e.$router.go(-1)}))}},components:{HeaderTop:et}},Tt=Pt,Ct=(o("8ba4"),Object(u["a"])(Tt,kt,Ot,!1,null,null,null)),Nt=Ct.exports;n["default"].use(A["a"]);var It=new A["a"]({routes:[{path:"/",component:at},{path:"/money",component:at},{path:"/money/edit",component:xt},{path:"/money/edit/add/:type",component:Nt},{path:"/calendar",component:ft},{path:"/reports",component:yt}]}),jt=It;n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(g)},router:jt}).$mount("#app")},"85ec":function(t,e,o){},"8ba4":function(t,e,o){"use strict";o("9e9f")},9971:function(t,e,o){},"9e9f":function(t,e,o){},a74f:function(t,e,o){},b006:function(t,e,o){},cb0a:function(t,e,o){"use strict";o("9971")},d4cc:function(t,e,o){},e3a5:function(t,e,o){"use strict";o("b006")},ef9e:function(t,e,o){"use strict";o("d4cc")}});
//# sourceMappingURL=app.475ca98d.js.map